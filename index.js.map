{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst loading = document.querySelector('.loading');\n\nconst lightbox = new SimpleLightbox('.item-link', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nform.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n\n  const queryInput = e.currentTarget.elements.query;\n\n  if (queryInput.value === '') {\n    iziToast.error({\n      message:\n        'Please enter a value!',\n    });\n  } else {\n    getImagesOnSearch(queryInput.value)\n      .then(res => {\n        if (res.hits.length === 0) {\n          iziToast.error({\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n          });\n        } else {\n          loading.classList.add('is-hidden');\n          gallery.innerHTML = createMarkUp(res.hits);\n          lightbox.refresh();\n        }\n      })\n      .catch(error => {\n        loading.classList.add('is-hidden');\n        console.log(error)\n      });\n  }\n}\n\nfunction getImagesOnSearch(query) {\n  const params = new URLSearchParams({\n    key: '29734383-6ec437d7a0c5df52cef54a0f9',\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  loading.classList.remove('is-hidden');\n  gallery.innerHTML = '';\n\n  return fetch(`https://pixabay.com/api/?${params}`).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  });\n}\n\nfunction createMarkUp(arr) {\n  return arr\n    .map(\n      el =>\n        `<li class=\"gallery-item\">\n            <a class=\"item-link\" href=\"${el.largeImageURL}\">\n              <img\n                class=\"item-image\"\n                src=\"${el.webformatURL}\"\n                alt=\"${el.tags}\"\n              >\n            </a>\n            <div class=\"item-stats_container\">\n              <p class=\"item-stats\"><span>Likes</span>${el.likes}</p>\n              <p class=\"item-stats\"><span>Views</span>${el.views}</p>\n              <p class=\"item-stats\"><span>Comments</span>${el.comments}</p>\n              <p class=\"item-stats\"><span>Downloads</span>${el.downloads}</p>\n            </div>\n          </li>`\n    )\n    .join('');\n}"],"names":["form","gallery","loading","lightbox","SimpleLightbox","onFormSubmit","e","queryInput","iziToast","getImagesOnSearch","res","createMarkUp","error","query","params","arr","el"],"mappings":"6vBAMA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAW,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,MACd,aAAc,GAChB,CAAC,EAEDJ,EAAK,iBAAiB,SAAUK,CAAY,EAE5C,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAEhB,MAAMC,EAAaD,EAAE,cAAc,SAAS,MAExCC,EAAW,QAAU,GACvBC,EAAS,MAAM,CACb,QACE,uBACR,CAAK,EAEDC,EAAkBF,EAAW,KAAK,EAC/B,KAAKG,GAAO,CACPA,EAAI,KAAK,SAAW,EACtBF,EAAS,MAAM,CACb,QACE,0EACd,CAAW,GAEDN,EAAQ,UAAU,IAAI,WAAW,EACjCD,EAAQ,UAAYU,EAAaD,EAAI,IAAI,EACzCP,EAAS,QAAO,EAE1B,CAAO,EACA,MAAMS,GAAS,CACdV,EAAQ,UAAU,IAAI,WAAW,EACjC,QAAQ,IAAIU,CAAK,CACzB,CAAO,CAEP,CAEA,SAASH,EAAkBI,EAAO,CAChC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAAX,EAAQ,UAAU,OAAO,WAAW,EACpCD,EAAQ,UAAY,GAEb,MAAM,4BAA4Ba,CAAM,EAAE,EAAE,KAAKJ,GAAO,CAC7D,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACf,CAAG,CACH,CAEA,SAASC,EAAaI,EAAK,CACzB,OAAOA,EACJ,IACCC,GACE;AAAA,yCACiCA,EAAG,aAAa;AAAA;AAAA;AAAA,uBAGlCA,EAAG,YAAY;AAAA,uBACfA,EAAG,IAAI;AAAA;AAAA;AAAA;AAAA,wDAI0BA,EAAG,KAAK;AAAA,wDACRA,EAAG,KAAK;AAAA,2DACLA,EAAG,QAAQ;AAAA,4DACVA,EAAG,SAAS;AAAA;AAAA,gBAGnE,EACA,KAAK,EAAE,CACZ"}